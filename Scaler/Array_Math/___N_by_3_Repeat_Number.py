class Solution:
    # @param A : tuple of integers
    # @return an integer
    def repeatedNumber(self, A):

        A = list(A)
        N = len(A)
        W = N/3
        elem1 = A[0]
        freq1 = 1

        elem2 = None
        freq2 = 0

        for i in range(1, N):

            if A[i] == elem1:

                elem1 = A[i]
                freq1 += 1

            elif A[i] == elem2:
                elem2 = A[i]
                freq2 += 1

            elif (elem1 == None and freq1 == 0):

                elem1 = A[i]
                freq1 += 1

            elif elem2 == None and freq2 == 0:

                elem2 = A[i]
                freq2 = 1

            elif freq1 == 0:

                elem1 = A[i]
                freq1 = 1

            elif freq2 == 0:

                elem2 = A[i]
                freq2 = 1

            else:
                freq1 -= 1
                freq2 -= 1

                if freq1 == 0:
                    elem1 = None

                if freq2 == 0:
                    elem2 = None

        if elem1 == None and elem2 == None:
            return -1

        # if freq1 <= W or freq2 <= W:
            # return - 1

        if freq1 > freq2:
            final_element = elem1
        else:
            final_element = elem2

        final_element_count = 0

        for i in range(N):

            if A[i] == elem1:
                final_element_count += 1

        if final_element_count > W:
            return elem1

        final_element_count = 0

        for i in range(N):

            if A[i] == elem2:
                final_element_count += 1

        if final_element_count > W:
            return elem2

        return -1


#A = [1000545, 1000038, 1000647, 1000038, 1000038, 1000038, 1000586, 1000038, 1000951, 1000226, 1000038, 1000145, 1000038, 1000761, 1000196, 1000038, 1000821, 1000829, 1000038, 1000570, 1000846, 1000038, 1000178, 1001000, 1000038, 1000568, 1000278, 1000734, 1000048, 1000038, 1000002, 1000271, 1000388, 1000315, 1000816, 1000038, 1000038, 1000846, 1000305, 1000853, 1000383, 1000116, 1000797, 1000279, 1000038, 1000038, 1000049, 1000108, 1000789, 1000240, 1000201, 1000506, 1000429, 1000857, 1000649, 1000898, 1000211, 1000000, 1000178, 1000038, 1000569, 1000695, 1000451, 1000159, 1000038, 1000038, 1000038, 1000129, 1000038, 1000038, 1000904, 1000038, 1000038, 1000902, 1000525, 1000038, 1000166, 1000038, 1000765, 1000038, 1000561, 1000417, 1000523, 1000668, 1000296, 1000038, 1000038, 1000038, 1000461, 1000654, 1000924, 1000985, 1000038, 1000426, 1000038, 1000038, 1000038, 1000904, 1000775, 1000148, 1000961, 1000038, 1000038, 1000038, 1000833, 1000332, 1000038, 1000038, 1000512, 1000322, 1000592, 1000524, 1000788, 1000057, 1000497, 1000625, 1000599, 1000484, 1000038, 1000747, 1000457, 1000111, 1000038, 1000038, 1000493, 1000287, 1000007, 1000695, 1000344, 1000098, 1000038, 1000191,    1000038, 1000576, 1000481, 1000488, 1000199, 1000038, 1000663, 1000176, 1000038, 1000521, 1000721, 1000728, 1000247, 1000038, 1000038, 1000460, 1000644, 1000038, 1000497, 1000966, 1000431, 1000038, 1000975, 1000063, 1000580, 1000669, 1000038, 1000038, 1000492, 1000038, 1000038, 1000529, 1000553, 1000333, 1000038, 1000341, 1000569, 1000862, 1000017, 1000532, 1000571, 1000508, 1000402, 1000285, 1000611, 1000210, 1000646, 1000110, 1000038, 1000553, 1000273, 1000729, 1000038, 1000038, 1000720, 1000400, 1000038, 1000983, 1000038, 1000766, 1000038, 1000180, 1000494, 1000765, 1000136, 1000038, 1000029, 1000246, 1000991, 1000038, 1000759, 1000038, 1000038, 1000045, 1000038, 1000648, 1000038, 1000038, 1000694, 1000914, 1000990, 1000038, 1000038, 1000758, 1000435, 1000038, 1000554, 1000038, 1000452, 1000156, 1000038, 1000322, 1000828, 1000868, 1000038, 1000973, 1000991, 1000464, 1000294, 1000633, 1000038, 1000582, 1000229, 1000285, 1000038, 1000038, 1000086, 1000038, 1000989, 1000038, 1000038, 1000157, 1000307, 1000369, 1000300, 1000038, 1000038, 1000038, 1000244, 1000038, 1000038, 1000222, 1000458, 1000038, 1000523, 1000434, 1000316, 1000038, 1000256, 1000038, 1000695, 1000038, 1000469]
#A = [1, 1, 1, 2, 3, 5, 7]

#A = [1000103, 1000410, 1000056, 1000410, 1000555, 1000235, 1000410, 1000793, 1000410, 1000410, 1000908, 1000268, 1000387, 1000662, 1000747, 1000410, 1000410, 1000410, 1000411, 1000977, 1000410, 1000807, 1000410, 1000410, 1000996, 1000961, 1000098, 1000599, 1000266, 1000218, 1000090, 1000410, 1000410, 1000410, 1000410, 1000086, 1000839, 1000217, 1000185, 1000567, 1000410, 1000410, 1000410, 1000410, 1000410, 1000410, 1000790, 1000679, 1000410, 1000410, 1000410, 1000924, 1000496, 1000410, 1000034, 1000481, 1000410, 1000788, 1000366, 1000410, 1000173, 1000410, 1000678, 1000410, 1000253, 1000410, 1000410, 1000410, 1000410, 1000784, 1000936, 1000774, 1000579, 1000525, 1000104, 1000410, 1000835, 1000953, 1000526, 1000123, 1000090, 1000338, 1000637, 1000497, 1000355, 1000365, 1000410, 1000426, 1000410, 1000410, 1000661, 1000125, 1000575, 1000016, 1000410, 1000809, 1000410, 1000950, 1000852, 1000573, 1000169, 1000605, 1000410, 1000007, 1000410, 1000905, 1000697, 1000410, 1000326, 1000699, 1000760, 1000410, 1000410, 1000410, 1000870, 1000410, 1000410, 1000528, 1000484, 1000312, 1000792, 1000410, 1000410, 1000410,    1000065, 1000410, 1000107, 1000410, 1000113, 1000856, 1000094, 1000410, 1000405, 1000973, 1000887, 1000801, 1000410, 1000410, 1000047, 1000197, 1000411, 1000054, 1000410, 1000555, 1000886, 1000499, 1000410, 1000410, 1000590, 1000754, 1000872, 1000878, 1000900, 1000195, 1000410, 1000574, 1000286, 1000525, 1000119, 1000366, 1000410, 1000391, 1000490, 1000101, 1000623, 1000589, 1000410, 1000535, 1000055, 1000596, 1000721, 1000410, 1000305, 1000327, 1000410, 1000013, 1000187, 1000814, 1000901, 1000410, 1000410, 1000672, 1000410, 1000309, 1000167, 1000042, 1000795, 1000979, 1000410, 1000004, 1000831, 1000410, 1000208, 1000410, 1000410, 1000963, 1000136, 1000374, 1000226, 1000696, 1000996, 1000410, 1000669, 1000410, 1000977, 1000094, 1000410, 1000300, 1000291, 1000410, 1000796, 1000410, 1000118, 1000279, 1000688, 1000297, 1000139, 1000021, 1000344, 1000410, 1000931, 1000986, 1000727, 1000014, 1000893, 1000257, 1000470, 1000715, 1000098, 1000410, 1000677, 1000045, 1000410, 1000410, 1000957, 1000687, 1000410, 1000129, 1000778, 1000082, 1000835, 1000410, 1000525, 1000422, 1000410, 1000410, 1000207, 1000361]

#A = [1000727, 1000727, 1000641, 1000517, 1000212, 1000532, 1000727, 1001000, 1000254, 1000106, 1000405, 1000100, 1000736, 1000727, 1000727, 1000787, 1000105, 1000713, 1000727, 1000333, 1000069, 1000727, 1000877, 1000222, 1000727, 1000505, 1000641, 1000533, 1000727,    1000727, 1000727, 1000508, 1000475, 1000727, 1000573, 1000727, 1000618, 1000727, 1000309, 1000486, 1000792, 1000727, 1000727, 1000426, 1000547, 1000727, 1000972, 1000575, 1000303, 1000727, 1000533, 1000669, 1000489, 1000727, 1000329, 1000727, 1000050, 1000209, 1000109]

A = [1000938, 1000346, 1000346, 1000346, 1000561, 1000664, 1000671,
     1000222, 1000702, 1000346, 1000346, 1000160, 1000958, 1000895]
s = Solution()
print(s.repeatedNumber(A))
